###
# @bot-written
# 
# WARNING AND NOTICE
# Any access, download, storage, and/or use of this source code is subject to the terms and conditions of the
# Full Software Licence as accepted by you before being granted access to this source code and other materials,
# the terms of which can be accessed on the Codebots website at https://codebots.com/full-software-licence. Any
# commercial use in contravention of the terms of the Full Software Licence may be pursued by Codebots through
# licence termination and further legal action, and be required to indemnify Codebots for any loss or damage,
# including interest and costs. You are deemed to have accepted the terms of the Full Software Licence on any
# access, download, storage, and/or use of this source code.
# 
# BOT WARNING
# This file is bot-written.
# Any changes out side of "protected regions" will be lost next time the bot makes any changes.
###

spring.datasource.tomcat.max-wait=20000
spring.datasource.tomcat.max-active=100
spring.datasource.tomcat.max-idle=20
spring.datasource.tomcat.min-idle=15

#TODO cleanup the configuration
#The indication of whether objects will be validated by the idle object evictor (if any)
spring.datasource.tomcat.testWhileIdle=true

#Flag to remove abandoned connections if they exceed the removeAbandonedTimeout.
spring.datasource.tomcat.removeAbandoned=true
spring.datasource.tomcat.logAbandoned=true

#Timeout in seconds before an abandoned(in use) connection can be removed
spring.datasource.tomcat.removeAbandonedTimeout=3600

#The minimum amount of time an object may sit idle in the pool before it is eligible for eviction
spring.datasource.tomcat.minEvictableIdleTimeMillis=20000

#Time in milliseconds to keep this connection.
spring.datasource.tomcat.maxAge=30000

# Validate the connection before borrowing it from the pool.
spring.datasource.tomcat.testOnBorrow=true

# Database Configuration
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
spring.jpa.properties.hibernate.id.new_generator_mappings = false
spring.jpa.properties.hibernate.format_sql = true
spring.jpa.properties.hibernate.globally_quoted_identifiers=true

# TODO review the flush mode and make sure the configuration is the best practice
spring.jpa.properties.org.hibernate.flushMode=COMMIT

# SMTP configuration
# % protected region % [Add you smtp details here] off begin
spring.mail.host=smtp.mailtrap.io
spring.mail.username=username
spring.mail.password=password
spring.mail.properties.mail.transport.protocol=smtp
spring.mail.properties.mail.smtp.port=25
spring.mail.properties.mail.smtp.auth=true
# % protected region % [Add you smtp details here] end

## Email Template Configuration. Powered by Freemarker
spring.freemarker.enabled=false
spring.freemarker.check-template-location=true
spring.freemarker.content-type=text/html
spring.freemarker.template-loader-path=classpath:/templates/emails/

#logging.level.org.hibernate.SQL=INFO
#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE  TODO: Do we want this?
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=ERROR

spring.jpa.hibernate.ddl-auto= none

# Secure Actuator
management.endpoint.health.enabled= true
management.endpoint.health.enabled.show-details= when_authorized
management.endpoint.health.enabled.roles= ADMIN
management.endpoint.info.enabled= true

# Audit config
spring.jpa.properties.org.hibernate.envers.audit_table_suffix=_AUDIT_LOG
spring.jpa.properties.org.hibernate.envers.revision_field_name=REVISION_ID
spring.jpa.properties.org.hibernate.envers.revision_type_field_name=REVISION_TYPE

# Logback Config
logging.config=classpath:logback/logback-spring.xml

springfox.documentation.swagger.v2.path= /api/api-docs

# Quartz Scheduler
spring.quartz.job-store-type=jdbc
spring.quartz.scheduler-name=Core Scheduler
spring.quartz.overwrite-existing-jobs=true
# Quartz schema initialization mode. Could be embedded.
spring.quartz.jdbc.initialize-schema=${QUARTZ_SCHEMA_INITIALIZE_MODE:always}

# % protected region % [Disable or enable quartz here] off begin
quartz.enabled=false

# % protected region % [Disable or enable quartz here] end

# Expiration time for tokens
# % protected region % [Change Expiration time for tokens] off begin
token.default.expiration-time-seconds=3600
token.user-password-reset.expiration-time-seconds=800
# % protected region % [Change Expiration time for tokens] end


# Hikari Connection Configuration
# Minimum time a connection being detected as leak connection
spring.datasource.hikari.leak-detection-threshold=20000
spring.datasource.hikari.maximum-pool-size=40

# % protected region % [Add any custom default properties here] off begin
spring.port= 8080

# Security Configurations
security.jwt-secret= ENsozfv7Xdo^TzG8WjhPSe!&r5kfCJB$haQ3raVicFSo94Cr*m&78NY3v5oyENy@bzpZSzNhpSC
security.jwt-token-expiration-time-seconds=3600
security.auth-token-age-seconds=3600
security.csrf-token-age-seconds=3600

# Email address for sending system level emails
system.adminEmail=info@example.com

currentVersion= 0.0.1 # TODO Model this
support.name= Codebots
support.url= https://codebots.com/contact
support.email= support@workingmouse.com.au

clientside.hostname=host.com
# % protected region % [Add any custom default properties here] end